<!doctype html>
<html lang="id">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<!-- Performance Optimizations -->
		<link rel="preconnect" href="https://images.unsplash.com" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="dns-prefetch" href="https://images.unsplash.com" />
		<link rel="dns-prefetch" href="https://fonts.gstatic.com" />
		
		<!-- Critical CSS -->
		<link rel="stylesheet" href="/app.css" />
		
         <!-- SEO Meta Tags - DINAMIS BERDASARKAN TENANT CONFIG -->
         <!-- Default fallback, akan diupdate oleh JavaScript -->
         <title>Loading...</title>
         <meta name="description" content="Panduan makanan terbaik - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran." />
         <meta name="keywords" content="food review, restoran, kuliner, tempat makan, ulasan makanan" />
		<meta name="robots" content="index, follow" />
		<meta name="language" content="Indonesian" />
		<meta name="author" content="Food Review Pasukan" />
		<meta name="theme-color" content="#dc2626" />
		<meta name="geo.region" content="MY" />
		<meta name="geo.placename" content="Malaysia" />
		<meta name="geo.position" content="3.1390;101.6869" />
		<meta name="ICBM" content="3.1390, 101.6869" />
		
		<!-- Open Graph Default -->
		<meta property="og:type" content="website" />
		<meta property="og:locale" content="id_ID" />
		<meta property="og:site_name" content="Food Review" />
		<meta property="og:title" content="Loading..." />
		<meta property="og:description" content="Panduan makanan terbaik - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran." />
		<meta property="og:url" content="https://foodreview.com" />
		<meta property="og:image" content="https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center" />
		
		<!-- Twitter Card Default -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@FoodReview" />
		<meta name="twitter:title" content="Loading..." />
		<meta name="twitter:description" content="Panduan makanan terbaik - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran." />
		<meta name="twitter:image" content="https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center" />
		
		<!-- Favicon (will be updated dynamically per website) -->
		<link rel="icon" href="/favicon.svg" type="image/svg+xml" />
		<link rel="apple-touch-icon" href="/favicon.svg" />
		
		<!-- Performance Hints -->
		<meta http-equiv="x-dns-prefetch-control" content="on" />
		
		%sveltekit.head%
		
		<!-- Critical CSS Inline -->
		<style>
			/* Critical above-the-fold CSS */
			body {
				margin: 0;
				padding: 0;
				font-family: system-ui, -apple-system, sans-serif;
				background-color: #f9fafb;
			}
			
			.loading-skeleton {
				background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
				background-size: 200% 100%;
				animation: loading 1.5s infinite;
			}
			
			@keyframes loading {
				0% { background-position: 200% 0; }
				100% { background-position: -200% 0; }
			}
			
			.above-fold {
				min-height: 100vh;
			}
		</style>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
		
		<!-- Performance Scripts -->
		<script>
			// Dynamic Meta Tags Update berdasarkan Tenant Config - INLINE VERSION
			// Set tenant ID langsung di sini, gausa tunggu dari tenant.js
			window.tenantId = 8; // HARUS SAMA DENGAN DEFAULT_WEBSITE_ID di tenant.js
			
			window.addEventListener('DOMContentLoaded', function() {
				// Inline tenant config update (no import needed)
				updateTenantMetaTags();
			});
			
			function updateTenantMetaTags() {
				// Get tenant config dari window global
				// Gak ada default, biarin error kalau gak ada
				const tenantId = window.tenantId;
				const tenantConfig = getTenantConfig(tenantId);
				
				if (tenantConfig) {
					// Update title
					document.title = tenantConfig.seo.title;
					
					// Update meta tags
					updateMetaTag('description', tenantConfig.description);
					updateMetaTag('keywords', tenantConfig.seo.keywords);
					updateMetaTag('author', tenantConfig.seo.author);
					updateMetaTag('theme-color', tenantConfig.seo.themeColor);
					
					// Update geo tags
					updateMetaTag('geo.region', tenantConfig.location.region);
					updateMetaTag('geo.placename', tenantConfig.location.placename);
					updateMetaTag('geo.position', tenantConfig.location.coordinates);
					updateMetaTag('ICBM', tenantConfig.location.icbm);
					
					// Update Open Graph
					updateMetaProperty('og:site_name', tenantConfig.name);
					updateMetaProperty('og:title', tenantConfig.seo.title);
					updateMetaProperty('og:description', tenantConfig.description);
					updateMetaProperty('og:url', tenantConfig.domain);
					updateMetaProperty('og:image', tenantConfig.seo.ogImage);
					
					// Update Twitter Card
					updateMetaTag('twitter:site', tenantConfig.seo.twitterSite);
					updateMetaTag('twitter:title', tenantConfig.seo.title);
					updateMetaTag('twitter:description', tenantConfig.description);
					updateMetaTag('twitter:image', tenantConfig.seo.ogImage);
					
					console.log('ðŸŽ¯ Current Tenant:', {
						id: tenantConfig.id,
						name: tenantConfig.name,
						slug: tenantConfig.slug
					});
				}
			}
			
			// Tenant ID langsung dari window global atau localStorage
			// Biarin ngikut tenant.js aja, gausa setting 2x
			
			function getTenantConfig(id) {
				// Inline tenant config lengkap (copy dari tenant.js)
				const configs = {
					1: {
						id: 1,
						name: "MakanKelantan",
						slug: "kelantan",
						description: "Panduan makanan terbaik di Kelantan - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Kelantan",
						seo: {
							title: "MakanKelantan - Panduan Kuliner Terbaik di Kelantan",
							keywords: "makan kelantan, restoran kelantan, makanan tradisional kelantan, nasi lemak, satay, laksa, makanan kelantan, tempat makan kelantan, makankelantan, ulasan makanan kelantan, tempat makan sedap kelantan",
							author: "MakanKelantan Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanKelantan",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-03",
							placename: "Kelantan",
							coordinates: "6.1254;102.2386",
							icbm: "6.1254, 102.2386"
						},
						domain: "https://makankelantan.com"
					},
					2: {
						id: 2,
						name: "MakanKedah",
						slug: "kedah",
						description: "Panduan makanan terbaik di Kedah - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Kedah",
						seo: {
							title: "MakanKedah - Panduan Kuliner Terbaik di Kedah",
							keywords: "makan kedah, restoran kedah, makanan tradisional kedah, makanan kedah, tempat makan kedah",
							author: "MakanKedah Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanKedah",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-02",
							placename: "Kedah",
							coordinates: "6.1184;100.3685",
							icbm: "6.1184, 100.3685"
						},
						domain: "https://makankedah.com"
					},
					3: {
						id: 3,
						name: "MakanPenang",
						slug: "penang",
						description: "Panduan makanan terbaik di Penang - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Penang",
						seo: {
							title: "MakanPenang - Panduan Kuliner Terbaik di Penang",
							keywords: "makan penang, restoran penang, makanan tradisional penang, char kway teow, assam laksa, makanan penang, tempat makan penang",
							author: "MakanPenang Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanPenang",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-07",
							placename: "Penang",
							coordinates: "5.4164;100.3327",
							icbm: "5.4164, 100.3327"
						},
						domain: "https://makanpenang.com"
					},
					4: {
						id: 4,
						name: "MakanPerak",
						slug: "perak",
						description: "Panduan makanan terbaik di Perak - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Perak",
						seo: {
							title: "MakanPerak - Panduan Kuliner Terbaik di Perak",
							keywords: "makan perak, restoran perak, makanan tradisional perak, makanan perak, tempat makan perak",
							author: "MakanPerak Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanPerak",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-08",
							placename: "Perak",
							coordinates: "4.5921;101.0901",
							icbm: "4.5921, 101.0901"
						},
						domain: "https://makanperak.com"
					},
					5: {
						id: 5,
						name: "MakanPerlis",
						slug: "perlis",
						description: "Panduan makanan terbaik di Perlis - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Perlis",
						seo: {
							title: "MakanPerlis - Panduan Kuliner Terbaik di Perlis",
							keywords: "makan perlis, restoran perlis, makanan tradisional perlis, makanan perlis, tempat makan perlis",
							author: "MakanPerlis Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanPerlis",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-09",
							placename: "Perlis",
							coordinates: "6.4414;100.1986",
							icbm: "6.4414, 100.1986"
						},
						domain: "https://makanperlis.com"
					},
					6: {
						id: 6,
						name: "MakanTerengganu",
						slug: "terengganu",
						description: "Panduan makanan terbaik di Terengganu - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Terengganu",
						seo: {
							title: "MakanTerengganu - Panduan Kuliner Terbaik di Terengganu",
							keywords: "makan terengganu, restoran terengganu, makanan tradisional terengganu, keropok lekor, makanan terengganu, tempat makan terengganu",
							author: "MakanTerengganu Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanTerengganu",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-11",
							placename: "Terengganu",
							coordinates: "5.3117;103.1324",
							icbm: "5.3117, 103.1324"
						},
						domain: "https://makanterengganu.com"
					},
					7: {
						id: 7,
						name: "MakanPahang",
						slug: "pahang",
						description: "Panduan makanan terbaik di Pahang - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Pahang",
						seo: {
							title: "MakanPahang - Panduan Kuliner Terbaik di Pahang",
							keywords: "makan pahang, restoran pahang, makanan tradisional pahang, makanan pahang, tempat makan pahang",
							author: "MakanPahang Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanPahang",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-06",
							placename: "Pahang",
							coordinates: "3.8126;103.3256",
							icbm: "3.8126, 103.3256"
						},
						domain: "https://makanpahang.com"
					},
					8: {
						id: 8,
						name: "MakanKualaLumpur",
						slug: "kualalumpur",
						description: "Panduan makanan terbaik di Kuala Lumpur - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Kuala Lumpur",
						seo: {
							title: "MakanKualaLumpur - Panduan Kuliner Terbaik di Kuala Lumpur",
							keywords: "makan kuala lumpur, restoran kl, makanan tradisional kuala lumpur, makanan kl, tempat makan kuala lumpur",
							author: "MakanKualaLumpur Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanKL",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-14",
							placename: "Kuala Lumpur",
							coordinates: "3.1390;101.6869",
							icbm: "3.1390, 101.6869"
						},
						domain: "https://makankualalumpur.com"
					},
					9: {
						id: 9,
						name: "MakanSelangor",
						slug: "selangor",
						description: "Panduan makanan terbaik di Selangor - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Selangor",
						seo: {
							title: "MakanSelangor - Panduan Kuliner Terbaik di Selangor",
							keywords: "makan selangor, restoran selangor, makanan tradisional selangor, makanan selangor, tempat makan selangor",
							author: "MakanSelangor Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanSelangor",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-10",
							placename: "Selangor",
							coordinates: "3.0738;101.5183",
							icbm: "3.0738, 101.5183"
						},
						domain: "https://makanselangor.com"
					},
					10: {
						id: 10,
						name: "MakanJohor",
						slug: "johor",
						description: "Panduan makanan terbaik di Johor - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Johor",
						seo: {
							title: "MakanJohor - Panduan Kuliner Terbaik di Johor",
							keywords: "makan johor, restoran johor, makanan tradisional johor, laksa johor, makanan johor, tempat makan johor",
							author: "MakanJohor Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanJohor",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-01",
							placename: "Johor",
							coordinates: "1.4927;103.7414",
							icbm: "1.4927, 103.7414"
						},
						domain: "https://makanjohor.com"
					},
					11: {
						id: 11,
						name: "MakanMelaka",
						slug: "melaka",
						description: "Panduan makanan terbaik di Melaka - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Melaka",
						seo: {
							title: "MakanMelaka - Panduan Kuliner Terbaik di Melaka",
							keywords: "makan melaka, restoran melaka, makanan tradisional melaka, chicken rice ball, makanan melaka, tempat makan melaka",
							author: "MakanMelaka Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanMelaka",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-04",
							placename: "Melaka",
							coordinates: "2.1896;102.2501",
							icbm: "2.1896, 102.2501"
						},
						domain: "https://makanmelaka.com"
					},
					12: {
						id: 12,
						name: "MakanNegeriSembilan",
						slug: "negerisembilan",
						description: "Panduan makanan terbaik di Negeri Sembilan - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Negeri Sembilan",
						seo: {
							title: "MakanNegeriSembilan - Panduan Kuliner Terbaik di Negeri Sembilan",
							keywords: "makan negeri sembilan, restoran negeri sembilan, makanan tradisional negeri sembilan, makanan negeri sembilan, tempat makan negeri sembilan",
							author: "MakanNegeriSembilan Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanNS",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-05",
							placename: "Negeri Sembilan",
							coordinates: "2.7297;101.9381",
							icbm: "2.7297, 101.9381"
						},
						domain: "https://makannegerisembilan.com"
					},
					13: {
						id: 13,
						name: "MakanSabah",
						slug: "sabah",
						description: "Panduan makanan terbaik di Sabah - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Sabah",
						seo: {
							title: "MakanSabah - Panduan Kuliner Terbaik di Sabah",
							keywords: "makan sabah, restoran sabah, makanan tradisional sabah, hinava, makanan sabah, tempat makan sabah",
							author: "MakanSabah Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanSabah",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-12",
							placename: "Sabah",
							coordinates: "5.9788;116.0753",
							icbm: "5.9788, 116.0753"
						},
						domain: "https://makansabah.com"
					},
					14: {
						id: 14,
						name: "MakanSarawak",
						slug: "sarawak",
						description: "Panduan makanan terbaik di Sarawak - Cari tempat makan terbaik, resipi tradisional, dan ulasan restoran di Sarawak",
						seo: {
							title: "MakanSarawak - Panduan Kuliner Terbaik di Sarawak",
							keywords: "makan sarawak, restoran sarawak, makanan tradisional sarawak, nasi lemak, satay, laksa, makanan sarawak, tempat makan sarawak, makansarawak, ulasan makanan sarawak, tempat makan sedap sarawak",
							author: "MakanSarawak Pasukan",
							themeColor: "#dc2626",
							twitterSite: "@MakanSarawak",
							ogImage: "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=1200&h=630&fit=crop&crop=center"
						},
						location: {
							region: "MY-13",
							placename: "Sarawak",
							coordinates: "1.5533;110.3593",
							icbm: "1.5533, 110.3593"
						},
						domain: "https://makansarawak.com"
					}
				};
				return configs[id] || configs[1];
			}
			
			function updateMetaTag(name, content) {
				if (!content) return;
				const meta = document.querySelector(`meta[name="${name}"]`);
				if (meta) {
					meta.setAttribute('content', content);
				}
			}
			
			function updateMetaProperty(property, content) {
				if (!content) return;
				const meta = document.querySelector(`meta[property="${property}"]`);
				if (meta) {
					meta.setAttribute('content', content);
				}
			}
			
			// Preload critical resources
			if ('requestIdleCallback' in window) {
				requestIdleCallback(() => {
					// Preload non-critical resources when browser is idle
					const link = document.createElement('link');
					link.rel = 'preload';
					link.as = 'image';
					link.href = 'https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=800&h=500&fit=crop';
					document.head.appendChild(link);
				});
			}
			
			// Service Worker registration for caching - PRODUCTION MODE
			if ('serviceWorker' in navigator) {
				window.addEventListener('load', () => {
					navigator.serviceWorker.register('/sw.js')
						.then(registration => {})
						.catch(error => {});
				});
			}
		</script>
	</body>
</html>
